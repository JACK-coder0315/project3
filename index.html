<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Glucose Response Multi-Dimensional Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://unpkg.com/dc@4/dist/style/dc.min.css" />
</head>
<body>
  <header>
    <h1>Glucose Response Explorer</h1>
    <button id="reset-filters">Reset Filters</button>
  </header>

  <main id="charts">
    <!-- Explanatory Section -->
    <section id="explanation" class="chart-row">
      <div class="chart">
        <h2>Dashboard Overview</h2>
        <p>This interactive dashboard lets you explore how meal timing and nutrient composition affect 2-hour glucose increase. Use the filters and histograms to slice data by time of day, macronutrient intake, and individual participants, then observe the scatter plot for direct correlations.</p>
      </div>
    </section>

    <!-- Filters and Summary -->
    <section class="chart-row">
      <div id="time-histogram" class="chart">
        <h2>Meal Time (Hour of Day)</h2>
        <div class="dc-chart"></div>
        <p>Shows what hours meals occur.</p>
      </div>
      <div id="subject-select" class="chart">
        <h2>Participant Selection</h2>
        <div class="dc-chart"></div>
        <p>Select an individual participant.</p>
      </div>
      <div id="total-count" class="chart">
        <h2>Current Event Count</h2>
        <div class="dc-chart"></div>
        <p>Number of records under current filters.</p>
      </div>
    </section>

    <!-- Nutrient Histograms -->
    <section class="chart-row">
      <div id="carb-histogram" class="chart">
        <h2>Carbohydrates (10g bins)</h2>
        <div class="dc-chart"></div>
      </div>
      <div id="prot-histogram" class="chart">
        <h2>Protein (5g bins)</h2>
        <div class="dc-chart"></div>
      </div>
      <div id="fat-histogram" class="chart">
        <h2>Fat (5g bins)</h2>
        <div class="dc-chart"></div>
      </div>
    </section>

    <section class="chart-row">
      <div id="sugar-histogram" class="chart">
        <h2>Sugar (5g bins)</h2>
        <div class="dc-chart"></div>
      </div>
      <div id="fiber-histogram" class="chart">
        <h2>Fiber (2g bins)</h2>
        <div class="dc-chart"></div>
      </div>
      <div id="calorie-histogram" class="chart">
        <h2>Calories (100kcal bins)</h2>
        <div class="dc-chart"></div>
      </div>
    </section>

    <!-- Scatter Plot -->
    <section class="chart-row">
      <div id="scatter-plot" class="chart large">
        <h2>Carbs vs. Glucose Increase</h2>
        <div class="dc-chart"></div>
      </div>
    </section>

    <!-- Selected Meal Time Series -->
    <section class="chart-row">
      <div id="meal-timeseries" class="chart large">
        <h2>Selected Meal Glucose Trend</h2>
        <div id="timeseries-chart"></div>
      </div>
    </section>
  </main>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/crossfilter2@1/crossfilter.min.js"></script>
  <script src="https://unpkg.com/dc@4/dist/dc.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
